{% extends 'core/login/app.html' %}
{% load static %}
{% block title %}Sistema - Login{% endblock %}

{% block content %}
  <!-- Font Awesome & login.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="{% static 'css/login.css' %}">
  <script src="https://kit.fontawesome.com/a81368914c.js"></script>

  <!-- ðŸŽ¥ Video de fondo solo en pantallas grandes -->
  <video autoplay loop muted playsinline controlslist="nodownload" class="video-background d-none d-lg-block">
    <source src="{% static 'video/fondo.mp4' %}" type="video/mp4">
    Tu navegador no soporta el video.
  </video>

<!-- ðŸ’¡ Contenedor principal -->
<div class="d-flex flex-column flex-lg-row align-items-center justify-content-center"
     style="min-height: 100vh; position: relative; z-index: 1;">


  <!-- Columna del formulario -->
  <div class="login-content p-4" style="max-width: 400px; width: 100%;">
    <form method="post" action="{% url 'login' %}">
      {% csrf_token %}

        <div class="text-center mb-4">
          <img src="{% static 'img/login.png' %}" alt="Login" style="width: 80px;">
          <h2 class="title mt-3">BIENVENIDO</h2>
        </div>

        <!-- Mensajes de error -->
        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} text-start">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}

        {% if form.errors %}
          <div class="alert alert-danger text-start">
            <ul class="mb-0 ps-3">
              {% for field in form %}
                {% for error in field.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              {% endfor %}
              {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}

        <div class="input-div one mb-3">
          <div class="i"><i class="fas fa-user text-danger"></i></div>
          <div class="div">
            <input type="text" name="username" class="input" placeholder="Ingresa Usuario"
                   value="{{ form.username.value|default:'' }}">
          </div>
        </div>

        <div class="input-div pass mb-3">
          <div class="i"><i class="fas fa-lock text-danger"></i></div>
          <div class="div">
            <input type="password" name="password" class="input" placeholder="Ingresa Password">
          </div>
        </div>

        <a href="" class="d-block text-end">Â¿Olvidaste tu contraseÃ±a?</a>
        <input type="submit" class="btn btn-danger mt-3 w-100" value="ACCEDER">
      </form>
    </div>
</div>

{% endblock %}
